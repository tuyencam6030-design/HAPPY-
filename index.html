<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>20/10 ‚Äî D√†nh t·∫∑ng c√°c b·∫°n n·ªØ & C√¥ gi√°o 10C4</title>
  <meta name="description" content="Thi·ªáp 20/10 ƒë·∫∑c s·∫Øc d√†nh t·∫∑ng c√°c b·∫°n n·ªØ v√† c√¥ gi√°o ch·ªß nhi·ªám l·ªõp 10C4" />
  <style>
    :root {
      --bg1:#12021f; --bg2:#3b0d3a; --accent1:#ff86c0; --accent2:#7b2cbf; 
      --card:#fff7fb; --muted:#f3e8f9; --glass: rgba(255,255,255,0.06);
    }
    *{box-sizing:border-box}
    html,body{
      height:100%;margin:0;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial;
      background:radial-gradient(1200px 600px at 10% 10%,#2b0038 0%,var(--bg1) 25%,var(--bg2) 100%);
      color:var(--card);-webkit-font-smoothing:antialiased;
      overflow-x:hidden;
    }

    /* üé¨ Intro video */
    #introScreen {
      position:fixed;top:0;left:0;width:100%;height:100%;background:#000;
      display:flex;align-items:center;justify-content:center;flex-direction:column;
      z-index:9999;animation:fadeInIntro 1s ease;overflow:hidden;
    }

    /* ‚úÖ S·ª≠a video cho responsive */
    #introVideo {
      width:100%;
      height:100%;
      object-fit:cover;
      object-position:center;
      max-height:100vh;
    }

    /* ‚úÖ Th√™m ph·∫ßn responsive ri√™ng cho mobile */
    @media (max-aspect-ratio: 9/16) {
      #introVideo {
        object-fit:contain;
        background-color:#000;
      }
    }

    #startBtn {
      position:absolute;bottom:40px;padding:14px 26px;font-size:1.1rem;
      background:linear-gradient(90deg,var(--accent1),var(--accent2));
      border:none;border-radius:12px;color:#140019;font-weight:800;cursor:pointer;
      box-shadow:0 0 15px rgba(255,134,192,0.8);
      z-index:2;
    }
    @keyframes fadeInIntro {from {opacity:0;} to {opacity:1;}}

    /* üå∏ Ph·∫ßn thi·ªáp */
    .wrap{max-width:1100px;margin:30px auto;padding:20px}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;text-align:center}
    .title{font-size:1.3rem;font-weight:800;display:flex;align-items:center;gap:12px;justify-content:center;flex-wrap:wrap}
    .subtitle{color:var(--muted);font-size:0.95rem}
    .stage{display:grid;grid-template-columns:1fr 420px;gap:22px;margin-top:18px;align-items:start}
    @media (max-width:920px){.stage{grid-template-columns:1fr;}}
    .cards-area{background:linear-gradient(180deg,rgba(255,255,255,0.03),rgba(255,255,255,0.02));border-radius:14px;padding:18px;box-shadow:0 12px 36px rgba(0,0,0,0.6)}
    .intro{display:flex;align-items:center;gap:14px;flex-wrap:wrap}
    .intro .badge{background:linear-gradient(90deg,var(--accent1),var(--accent2));padding:10px;border-radius:12px;color:#140019;font-weight:800}
    .intro p{margin:0;color:rgba(255,255,255,0.85)}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:14px;margin-top:16px}
    .card{perspective:1100px}
    .card .inner{position:relative;height:260px;border-radius:14px;transform-style:preserve-3d;transition:transform .9s cubic-bezier(.2,.9,.3,1);box-shadow:0 14px 40px rgba(0,0,0,0.6);cursor:pointer;overflow:hidden}
    .card.flipped .inner{transform:rotateY(180deg)}
    .side{position:absolute;inset:0;backface-visibility:hidden;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:18px}
    .front{background:linear-gradient(180deg,rgba(255,255,255,0.06),rgba(255,255,255,0.02));border:1px solid rgba(255,255,255,0.03)}
    .front .icon{font-size:3rem;animation:float 3s ease-in-out infinite}
    @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}
    .preview{position:relative;border-radius:12px;padding:16px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));box-shadow:0 12px 36px rgba(0,0,0,0.6)}
    .screen{height:420px;border-radius:12px;background:linear-gradient(180deg,#2e003b,#44125a);overflow:hidden;position:relative}
    @media(max-width:500px){.screen{height:340px;}}
    .envelope{position:absolute;left:50%;top:46%;transform:translate(-50%,-50%);width:76%;max-width:360px;transition:transform 1s ease-in-out}
    .envelope.fly{animation:flyUp 1.5s ease-in-out forwards}
    @keyframes flyUp{0%{transform:translate(-50%,-50%) scale(1);}50%{transform:translate(-50%,-70%) scale(1.05);}100%{transform:translate(-50%,-50%) scale(1);}}
    .env-back{width:100%;height:160px;background:linear-gradient(180deg,#ffd9f0,#ffe9fb);border-radius:10px;position:relative;box-shadow:0 14px 40px rgba(0,0,0,0.45)}
    .env-flap{position:absolute;left:0;right:0;top:-38%;height:80%;background:linear-gradient(180deg,#ffb6e6,#ff84d8);transform-origin:top center;border-radius:50% 50% 0 0;transition:transform .8s cubic-bezier(.2,.9,.3,1)}
    .envelope.open .env-flap{transform:rotateX(180deg)}
    .card-sheet{position:absolute;left:7%;right:7%;top:34%;padding:12px;background:#fff;border-radius:10px;box-shadow:0 8px 24px rgba(0,0,0,0.25);transform-origin:top;transition:transform .8s cubic-bezier(.22,.9,.3,1), opacity 1s ease;}
    .envelope.open .card-sheet{transform:translateY(-120px) rotateX(6deg);opacity:1;animation:glow 1.8s ease-in-out;}
    @keyframes glow{0%{box-shadow:0 0 0 rgba(255,255,255,0);}50%{box-shadow:0 0 25px rgba(255,183,244,0.9);}100%{box-shadow:0 0 10px rgba(255,255,255,0.4);}}
    .sheet-title{font-weight:800;color:#140019}
    .sheet-msg{color:#2b0b21;margin-top:8px;line-height:1.45;text-align:center;opacity:0;transform:scale(0.8);transition:all 1s ease-in-out;}
    .sheet-msg.show{opacity:1;transform:scale(1.05);}
    .controls{display:flex;gap:8px;margin-top:12px;flex-wrap:wrap;justify-content:center}
    button.primary{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#140019;border:none;padding:10px 14px;border-radius:10px;font-weight:800;cursor:pointer;transition:transform .2s}
    button.primary:hover{transform:scale(1.05)}
    button.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted);padding:10px 12px;border-radius:10px}
    #confetti{position:fixed;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:999}
    footer{margin-top:18px;color:rgba(255,255,255,0.65);text-align:center;font-size:0.9rem}
  </style>
</head>

<body>
  <!-- üé¨ Video m·ªü ƒë·∫ßu -->
  <div id="introScreen">
    <video id="introVideo" playsinline preload="auto">
      <source src="nhac2010.mp4" type="video/mp4">
    </video>
    <button id="startBtn">üé¨ B·∫ÆT ƒê·∫¶U TR·∫¢I NGHI·ªÜM 20/10</button>
  </div>

  <!-- üå∏ N·ªôi dung ch√≠nh -->
  <canvas id="confetti"></canvas>
  <div class="wrap">
    <header>
      <div>
        <div class="title">üå∏ 20/10 ‚Äî D√†nh t·∫∑ng c√°c b·∫°n n·ªØ & C√¥ gi√°o ch·ªß nhi·ªám 10C4</div>
        <div class="subtitle">Thi·ªáp s·∫Øc t√≠m h·ªìng, hi·ªáu ·ª©ng m·ªü thi·ªáp & confetti s·ªëng ƒë·ªông</div>
      </div>
      <div style="background:linear-gradient(90deg,var(--accent1),var(--accent2));padding:8px 12px;border-radius:10px;color:#140019;font-weight:800">10C4</div>
    </header>
    <div class="stage">
      <section class="cards-area">
        <div class="intro">
          <div class="badge">20/10</div>
          <div>
            <h2 style="margin:0;color:var(--card)">G·ª≠i t·∫∑ng c√°c b·∫°n n·ªØ v√† C√¥ gi√°o ch·ªß nhi·ªám</h2>
            <p>Ch·ªçn m·ªôt thi·ªáp ‚Äî Khi m·ªü s·∫Ω hi·ªán l·ªùi ch√∫c v√† hi·ªáu ·ª©ng lung linh üé∂</p>
          </div>
        </div>
        <div class="grid" id="grid"></div>
      </section>

      <aside class="preview">
        <div class="screen" id="screen">
          <div class="envelope" id="envelope">
            <div class="env-back"></div>
            <div class="env-flap"></div>
            <div class="card-sheet" id="cardSheet">
              <div class="sheet-title" id="sheetTitle">Thi·ªáp 20/10</div>
              <div class="sheet-msg" id="sheetMsg">S·∫µn s√†ng m·ªü thi·ªáp...</div>
            </div>
          </div>
        </div>
        <div class="controls">
          <button class="primary" id="openBtn">M·ªü thi·ªáp</button>
          <button class="ghost" id="nextBtn">M·ªü ti·∫øp</button>
          <button class="ghost" id="musicBtn">Nh·∫°c On/Off</button>
        </div>
      </aside>
    </div>

    <footer>üíú Ch√∫c c√°c b·∫°n n·ªØ & c√¥ gi√°o ch·ªß nhi·ªám 10C4 m·ªôt ng√†y 20/10 th·∫≠t √Ω nghƒ©a!</footer>
  </div>

  <!-- üéµ √Çm thanh -->
  <audio id="bgMusic" src="piano-ready-for-loop-89011.mp3" loop preload="auto"></audio>
  <audio id="sfxOpen" src="flip-page-105778.mp3" preload="auto"></audio>
  <audio id="sfxBurst" src="fireworks-29629.mp3" preload="auto"></audio>

  <script>
    /* üé¨ X·ª≠ l√Ω video m·ªü ƒë·∫ßu */
    const intro = document.getElementById("introScreen");
    const video = document.getElementById("introVideo");
    const startBtn = document.getElementById("startBtn");

    startBtn.addEventListener("click", () => {
      startBtn.style.display = "none";
      video.muted = false;
      video.play();
      video.addEventListener("ended", () => {
        intro.style.transition = "opacity 1s ease";
        intro.style.opacity = 0;
        setTimeout(() => { intro.style.display = "none"; }, 1000);
      });
    });

    /* üíå Thi·ªáp */
    const cards = [
      {title:'Thi·ªáp cho C√¥ gi√°o', msg:'K√≠nh ch√∫c c√¥ gi√°o ch·ªß nhi·ªám lu√¥n m·∫°nh kh·ªèe, h·∫°nh ph√∫c v√† g·∫∑t h√°i nhi·ªÅu th√†nh c√¥ng. C·∫£m ∆°n c√¥ ƒë√£ d√¨u d·∫Øt 10C4!'},
      {title:'Thi·ªáp cho c√°c b·∫°n n·ªØ 10C4 (1)', msg:'G·ª≠i ƒë·∫øn nh·ªØng n·ª• c∆∞·ªùi t∆∞∆°i c·ªßa 10C4 ‚Äî ch√∫c c√°c b·∫°n lu√¥n r·∫°ng r·ª°, m·∫°nh kh·ªèe v√† th√†nh c√¥ng.'},
      {title:'Thi·ªáp cho c√°c b·∫°n n·ªØ 10C4 (2)', msg:'Ch√∫c c√°c b·∫°n c√≥ m·ªôt ng√†y 20/10 ng·∫≠p tr√†n y√™u th∆∞∆°ng, t·ª± tin t·ªèa s√°ng v√† lu√¥n h·∫°nh ph√∫c.'},
      {title:'Thi·ªáp ƒë·∫∑c bi·ªát 10C4', msg:'Ch√∫c gia ƒë√¨nh, b·∫°n b√® v√† c√¥ gi√°o lu√¥n b√¨nh an ‚Äî 10C4 ti·∫øn b∆∞·ªõc v·ªØng v√†ng!'}
    ];

    const grid=document.getElementById('grid'),envelope=document.getElementById('envelope');
    const sheetTitle=document.getElementById('sheetTitle'),sheetMsg=document.getElementById('sheetMsg');
    const openBtn=document.getElementById('openBtn'),nextBtn=document.getElementById('nextBtn'),musicBtn=document.getElementById('musicBtn');
    let current=0,opened=new Set(),musicOn=false;

    function render(){
      grid.innerHTML='';
      cards.forEach((c,i)=>{
        const el=document.createElement('div');
        el.className='card';
        el.innerHTML=`<div class="inner"><div class="side front"><div class="icon">üíå</div><h3>${c.title}</h3><p>Nh·∫•n ƒë·ªÉ ch·ªçn</p></div></div>`;
        el.addEventListener('click',()=>select(i));
        grid.appendChild(el);
      });
      select(0);
    }
    function select(i){
      current=i;
      sheetTitle.textContent=cards[i].title;
      sheetMsg.textContent='S·∫µn s√†ng m·ªü thi·ªáp...';
      sheetMsg.classList.remove('show');
      envelope.classList.remove('open');
    }

    openBtn.addEventListener('click',()=>{
      if(opened.has(current)){sheetMsg.textContent='Thi·ªáp n√†y ƒë√£ ƒë∆∞·ª£c m·ªü üéÄ';sheetMsg.classList.add('show');return;}
      play('sfxOpen');
      envelope.classList.add('fly');
      setTimeout(()=>{
        envelope.classList.add('open');
        setTimeout(()=>{
          sheetMsg.textContent=cards[current].msg;
          sheetMsg.classList.add('show');
          play('sfxBurst');
          burstConfetti();
          opened.add(current);
        },800);
      },400);
      setTimeout(()=>envelope.classList.remove('fly'),1800);
    });

    nextBtn.addEventListener('click',()=>{
      envelope.classList.remove('open');
      sheetMsg.classList.remove('show');
      const next=cards.findIndex((_,i)=>!opened.has(i));
      if(next===-1){sheetMsg.textContent='ƒê√£ m·ªü h·∫øt c√°c thi·ªáp üíñ';sheetMsg.classList.add('show');return;}
      select(next);
    });

    musicBtn.addEventListener('click',()=>{
      const bg=document.getElementById('bgMusic');
      if(!musicOn){bg.play();musicOn=true;musicBtn.textContent='T·∫Øt nh·∫°c';}
      else {bg.pause();musicOn=false;musicBtn.textContent='Nh·∫°c On/Off';}
    });

    function play(id){const a=document.getElementById(id);if(!a)return;a.currentTime=0;a.play().catch(()=>{});}

    /* üéÜ Confetti */
    const canvas=document.getElementById('confetti'),ctx=canvas.getContext('2d');
    let W=canvas.width=innerWidth,H=canvas.height=innerHeight;
    window.addEventListener('resize',()=>{W=canvas.width=innerWidth;H=canvas.height=innerHeight;});
    const parts=[];function rand(min,max){return Math.random()*(max-min)+min}
    class P{constructor(x,y,dx,dy,c,s){this.x=x;this.y=y;this.dx=dx;this.dy=dy;this.c=c;this.s=s;this.life=0;this.ttl=160+Math.random()*80}update(){this.x+=this.dx;this.y+=this.dy;this.dy+=0.2;this.life++;}draw(){ctx.save();ctx.translate(this.x,this.y);ctx.rotate((this.life/10));ctx.fillStyle=this.c;ctx.fillRect(-this.s/2,-this.s/2,this.s,this.s);ctx.restore();}}
    function burstConfetti(){for(let i=0;i<120;i++){parts.push(new P(W/2+rand(-80,80),H/2+rand(-40,40),rand(-5,5),rand(-12,-2),`hsl(${Math.floor(rand(280,340))}deg 80% 65%)`,rand(4,9)));}}
    function loop(){ctx.clearRect(0,0,W,H);for(let i=parts.length-1;i>=0;i--){const p=parts[i];p.update();p.draw();if(p.life>p.ttl||p.y>H+50)parts.splice(i,1);}requestAnimationFrame(loop);}loop();

    render();
  </script>
    <!-- Gi·ªØ nguy√™n ph·∫ßn JS + HTML ph√≠a d∆∞·ªõi c·ªßa b·∫°n -->
    <!-- (b·ªè qua ·ªü ƒë√¢y ƒë·ªÉ ng·∫Øn g·ªçn, v√¨ ch·ªâ c·∫ßn thay ƒë·ªïi ph·∫ßn CSS tr√™n l√† ƒë·ªß) -->
  </div>
</body>
</html>
